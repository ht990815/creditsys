(function(e){function n(n){for(var r,u,a=n[0],i=n[1],d=n[2],f=0,l=[];f<a.length;f++)u=a[f],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&l.push(o[u][0]),o[u]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);s&&s(n);while(l.length)l.shift()();return c.push.apply(c,d||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],r=!0,u=1;u<t.length;u++){var a=t[u];0!==o[a]&&(r=!1)}r&&(c.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},u={app:0},o={app:0},c=[];function a(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-145ca118":"746b1c77","chunk-1bf87d10":"16376901","chunk-1fd885d2":"c7e42874","chunk-2d0bd16e":"d1ea7027","chunk-2d2134ed":"bbbbaddd","chunk-2d213e79":"22329ed6","chunk-2d215cbe":"7d408209","chunk-3c1cf57f":"d79ca912","chunk-3fc23605":"35435d00","chunk-4b66fd00":"e0c54767","chunk-7cee8d80":"48b20fab","chunk-f07be614":"886a6da5"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-145ca118":1,"chunk-1bf87d10":1,"chunk-1fd885d2":1,"chunk-3c1cf57f":1,"chunk-3fc23605":1,"chunk-4b66fd00":1,"chunk-f07be614":1};u[e]?n.push(u[e]):0!==u[e]&&t[e]&&n.push(u[e]=new Promise((function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-145ca118":"b4d3da50","chunk-1bf87d10":"96cc36de","chunk-1fd885d2":"7be18860","chunk-2d0bd16e":"31d6cfe0","chunk-2d2134ed":"31d6cfe0","chunk-2d213e79":"31d6cfe0","chunk-2d215cbe":"31d6cfe0","chunk-3c1cf57f":"9b005863","chunk-3fc23605":"e0b5f566","chunk-4b66fd00":"c24f3a6c","chunk-7cee8d80":"31d6cfe0","chunk-f07be614":"3f8488cd"}[e]+".css",o=i.p+r,c=document.getElementsByTagName("link"),a=0;a<c.length;a++){var d=c[a],f=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(f===r||f===o))return n()}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){d=l[a],f=d.getAttribute("data-href");if(f===r||f===o)return n()}var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onload=n,s.onerror=function(n){var r=n&&n.target&&n.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete u[e],s.parentNode.removeChild(s),t(c)},s.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(s)})).then((function(){u[e]=0})));var r=o[e];if(0!==r)if(r)n.push(r[2]);else{var c=new Promise((function(n,t){r=o[e]=[n,t]}));n.push(r[2]=c);var d,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=a(e);var l=new Error;d=function(n){f.onerror=f.onload=null,clearTimeout(s);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+u+")",l.name="ChunkLoadError",l.type=r,l.request=u,t[1](l)}o[e]=void 0}};var s=setTimeout((function(){d({type:"timeout",target:f})}),12e4);f.onerror=f.onload=d,document.head.appendChild(f)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],f=d.push.bind(d);d.push=n,d=d.slice();for(var l=0;l<d.length;l++)n(d[l]);var s=f;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"39d8":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],c={},a=c,i=t("2877"),d=Object(i["a"])(a,u,o,!1,null,null,null),f=d.exports,l=(t("d3b7"),t("8c4f")),s={path:"/loanapp",name:"loanapp",redirect:"/loanapp/prereview",meta:{roles:["approve"]},component:function(){return t.e("chunk-2d213e79").then(t.bind(null,"af53"))},children:[{path:"/loanapp/prereview",name:"prereview",component:function(){return t.e("chunk-145ca118").then(t.bind(null,"0d54"))},meta:{title:"初审"}},{path:"/loanapp/finreview",name:"finreview",component:function(){return t.e("chunk-2d0bd16e").then(t.bind(null,"2b08"))},meta:{title:"终审"}}]},p=s,h={path:"/Authority",name:"Authority",component:function(){return t.e("chunk-2d2134ed").then(t.bind(null,"abb8"))},redirect:"/create",children:[{path:"/Authority/create",name:"create",component:function(){return t.e("chunk-f07be614").then(t.bind(null,"89eb"))},meta:{title:"创建管理员"}},{path:"/Authority/list",name:"list",component:function(){return t.e("chunk-2d215cbe").then(t.bind(null,"c072"))},meta:{title:"列表展示"}}]},m=h;r["default"].use(l["a"]);var b=l["a"].prototype.push;l["a"].prototype.push=function(e){return b.call(this,e).catch((function(e){return e}))};var k=[{path:"/",redirect:"/home"},{path:"/login",name:"login",component:function(){return t.e("chunk-3c1cf57f").then(t.bind(null,"ede4"))}},{path:"/home",name:"home",redirect:"/index",meta:{roles:["input","approve"]},component:function(){return t.e("chunk-1bf87d10").then(t.bind(null,"0041"))},children:[{path:"/index",name:"index",component:function(){return t.e("chunk-7cee8d80").then(t.bind(null,"9553"))}}]}],v=[{path:"/index",name:"index",component:function(){return t.e("chunk-7cee8d80").then(t.bind(null,"9553"))},meta:{title:"首页",roles:["input","approve"]}},{path:"/loaninput",name:"loaninput",component:function(){return t.e("chunk-3fc23605").then(t.bind(null,"062d"))},meta:{title:"贷款申请",roles:["input"]}},{path:"/AppManagement",name:"AppManagement",component:function(){return t.e("chunk-1fd885d2").then(t.bind(null,"1735"))},meta:{title:"申请管理",roles:["input"]}},p,{path:"/TargetManagement",name:"TargetManagement",component:function(){return t.e("chunk-4b66fd00").then(t.bind(null,"e8cb"))},meta:{title:"标的管理"}},m],g=new l["a"]({base:"/",routes:k}),y=g,E=t("2f62"),w=t("7c15"),S={token:localStorage.getItem("token"),roles:[],count:2505},O={token:function(e){return e.token},roles:function(e){return e.roles}},T={USERINFO:function(e){var n=e.commit,t=e.state;return new Promise((function(e,r){Object(w["n"])(t.token).then((function(t){var r=t.data.data;n("SET_ROLES",r.roles),e(r)})).catch((function(e){r(e)}))}))},logout:function(e){var n=e.commit,t=e.state;return new Promise((function(e,r){Object(w["l"])(t.token).then((function(t){n("SET_ROLES",[]),n("SET_TOKEN",""),localStorage.removeItem("token"),e()})).catch((function(e){r(e)}))}))}},x={SET_ROLES:function(e,n){e.roles=n},SET_TOKEN:function(e,n){e.token=n}},j={state:S,getters:O,mutations:x,actions:T};t("4de4"),t("caad"),t("45fc"),t("2532");function _(e,n){var t=e.filter((function(e){return e.meta&&e.meta.roles&&n.some((function(n){return e.meta.roles.includes(n)}))}));return t}var A={routes:[]},P={get_routes:function(e){return e.routes}},R={GENERATEROUTES:function(e,n){var t=e.commit;e.state;return new Promise((function(e,r){var u,o=k.filter((function(e){return"/home"==e.path}))[0];if(o.children=[],n.includes("administrator"))o.children=v;else{var c=_(v,n);o.children=c}u=[o]||!1,t("SET_ROUTES",u),e(u)}))}},N={SET_ROUTES:function(e,n){e.routes=n}},L={state:A,getters:P,mutations:N,actions:R};r["default"].use(E["a"]);var U=new E["a"].Store({modules:{user:j,peimission:L}}),M=U,C=t("5c96"),I=t.n(C),q=(t("0fae"),t("39d8"),t("595f"),t("d81d"),t("b0c0"),t("5530")),B=(t("96cf"),t("1da1"));y.beforeEach(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(n,t,r){var u,o,c,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("/login"!=n.path){e.next=4;break}r(),e.next=25;break;case 4:if(u=M&&M.getters.roles&&M.getters.roles.length>0,!u){e.next=9;break}r(),e.next=25;break;case 9:return e.prev=9,e.next=12,M.dispatch("USERINFO");case 12:return o=e.sent,c=o.roles,a=c.map((function(e){return e.name})),e.next=17,M.dispatch("GENERATEROUTES",a);case 17:i=e.sent,y.addRoutes(i),r(c?Object(q["a"])({},n):{path:"/login"}),e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](9),r({path:"/login"});case 25:case"end":return e.stop()}}),e,null,[[9,22]])})));return function(n,t,r){return e.apply(this,arguments)}}()),r["default"].use(I.a),r["default"].config.productionTip=!1,new r["default"]({router:y,store:M,render:function(e){return e(f)}}).$mount("#app")},"595f":function(e,n,t){},"7c15":function(e,n,t){"use strict";t.d(n,"k",(function(){return c})),t.d(n,"n",(function(){return a})),t.d(n,"l",(function(){return i})),t.d(n,"i",(function(){return d})),t.d(n,"j",(function(){return f})),t.d(n,"h",(function(){return l})),t.d(n,"g",(function(){return s})),t.d(n,"o",(function(){return p})),t.d(n,"b",(function(){return h})),t.d(n,"a",(function(){return m})),t.d(n,"c",(function(){return b})),t.d(n,"d",(function(){return k})),t.d(n,"e",(function(){return v})),t.d(n,"f",(function(){return g})),t.d(n,"m",(function(){return y}));t("d3b7");var r=t("73ef"),u=t.n(r);u.a.defaults.baseURL="http://139.196.42.209:5004/api/",u.a.interceptors.request.use((function(e){return e.headers["token"]=sessionStorage.getItem("token"),e}),(function(e){return Promise.reject(e)})),u.a.interceptors.response.use((function(e){return e.data.code,e}),(function(e){return Promise.reject(e)}));var o=u.a;function c(e){return o({method:"post",url:"user/login",data:e})}function a(e){return o({method:"get",url:"user/info",params:{token:e}})}function i(){return o({method:"post",url:"user/logout"})}function d(e){return o({method:"post",url:"loan/create",data:e})}function f(e){return o({method:"get",url:"loan/list",params:e})}function l(e){return o({method:"put",url:"loan/update",data:e})}function s(e){return o({method:"delete",url:"loan/delete/"+e.id})}function p(e){return o({method:"post",url:"loan/submitToApprove",data:e})}function h(e){return o({method:"get",url:"approve/first/list",params:e})}function m(e){return o({method:"get",url:"loan/query",params:e})}function b(e){return o({method:"post",url:"approve/first/pass",data:e})}function k(e){return o({method:"post",url:"approve/first/reject",data:e})}function v(e){return o({method:"get",url:"contract/list",params:e})}function g(e){return o({method:"post",url:"permission/createUser",data:e})}function y(){return o({method:"get",url:"user/list"})}}});
//# sourceMappingURL=app.d27cba45.js.map